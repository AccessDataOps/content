category: Network Security
commonfields:
  id: AzureKeyVault
  version: -1
configuration:
- display: Client ID
  name: client_id
  required: true
  type: 0
- display: Client Secret
  name: client_secret
  required: true
  type: 4
- display: Tenant ID
  name: tenant_id
  required: true
  type: 0
- display: Subscription ID
  name: subscription_id
  required: true
  type: 0
- display: Resource Group Name
  name: resource_group_name
  required: true
  type: 0
- display: Fetches credentials
  hidden: false
  name: isFetchCredentials
  required: false
  type: 8
- display: Key Vault names - comma-separated list of Key Vaults to fetch secrets from.
  hidden: false
  name: key_vaults
  required: false
  type: 0
- display: Secret names - comma-separated list of secrets to fetch.
  hidden: false
  name: secrets
  required: false
  type: 0
- display: Trust any certificate (not secure)
  hidden: false
  name: insecure
  required: false
  type: 8
- display: Use system proxy settings
  hidden: false
  name: proxy
  required: false
  type: 8
description: Use the Azure Key Vault integration to safeguard and manage cryptographic
  keys and secrets used by cloud applications and services.
display: Azure Key Vault
name: AzureKeyVault
script:
  commands:
  - arguments:
    - default: false
      description: Key vault name.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      description: Key vault supported Azure location. The location cannot be changed
        after the key vault is created. Default value is 'westus'.
      isArray: false
      name: location
      predefined:
      - northcentralus
      - eastus
      - northeurope
      - westeurope
      - eastasia
      - southeastasia
      - eastus2
      - centralus
      - southcentralus
      - westus
      - japaneast
      - japanwest
      - australiaeast
      - australiasoutheast
      - brazilsouth
      - centralindia
      - southindia
      - westindia
      - canadacentral
      - canadaeast
      - uksouth
      - ukwest
      - westcentralus
      - westus2
      - koreacentral
      - francecentral
      - australiacentral
      - uaenorth
      - southafricanorth
      - switzerlandnorth
      - germanywestcentral
      - norwayeast
      - westus3
      - jioindiawest
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Specify whether the key vault is a standard vault or a premium
        vault. Default value is 'standard'.
      isArray: false
      name: sku_name
      predefined:
      - standard
      - premium
      required: false
      secret: false
    - default: false
      description: 'The object ID of a user, service principal, or security group in
        the Azure Active Directory tenant for the vault. The object ID must be unique
        for the list of access policies. Any change in the access policy in regards to the
        object ID, will override the existing policy. To retrieve the object ID, navigate in the Azure
        Portal to App registrations > your registered application > click on manage
        application in local directory > copy the Object ID property.'
      isArray: false
      name: object_id
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      description: A comma-separated list of permissions to the keys. If the key vault exists, you must supply
        the previous keys' permissions in order to keep them unchanged. Access policy
        property. Default value is [get,list,create,update,import,delete,backup,restore,recover]. 
      isArray: true
      name: keys
      predefined:
      - get
      - list
      - create
      - update
      - import
      - delete
      - backup
      - restore
      - recover
      - decrypt
      - encrypt
      - unwrapKey
      - wrapKey
      - verify
      - sign
      - purge
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: A comma-separated list of permissions to the secrets. If the key vault exists, you must supply
        the previous secrets' permissions in order to keep them unchanged. Access
        policy property. Default value is [get,list,set,delete,backup,restore,recover].
      isArray: true
      name: secrets
      predefined:
      - get
      - list
      - set
      - delete
      - recover
      - backup
      - restore
      - purge
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: A comma-separated list of permissions to the certificates. If the key vault exists, you must
        supply the previous certificate's permissions in order to keep them unchanged.
        Access policy property. Default value is [get,list,update,create,import,delete,recover,backup,restore,managecontacts,manageissuers,getissuers,listissuers,setissuers,deleteissuers].
      isArray: true
      name: certificates
      predefined:
      - get
      - list
      - update
      - create
      - import
      - delete
      - recover
      - backup
      - restore
      - managecontacts
      - manageissuers
      - getissuers
      - listissuers
      - setissuers
      - deleteissuers
      - purge
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: A comma-separated list of permissions to the storage accounts. If the key vault exists, you must
        supply the previous storage's permissions in order to keep them unchanged.
        Access policy property. Default value is [get,list,set,delete,backup,restore,recover].
      isArray: true
      name: storage
      predefined:
      - get
      - list
      - delete
      - set
      - update
      - regeneratekey
      - getsas
      - listsas
      - deletesas
      - setsas
      - recover
      - backup
      - restore
      - purge
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Specifies whether Azure Virtual Machines are permitted to retrieve
        certificates stored as secrets from the key vault. If the key vault exists,
        you must supply the previous value in order to keep it the same. Default value
        is True.
      isArray: false
      name: enabled_for_deployment
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Specifies whether Azure Disk Encryption is permitted to retrieve
        secrets from the vault and unwrap keys.If the key vault exists, you must supply
        the previous value in order to keep it the same. Default value is True.
      isArray: false
      name: enabled_for_disk_encryption
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Specifies whether Azure Resource Manager is permitted to retrieve
        secrets from the key vault. If the key vault exists, you must supply the previous
        value in order to keep it the same. Default value is True.
      isArray: false
      name: enabled_for_template_deployment
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: The default action when no rule from ip_rules and from vnet_subnet_id
        match. For example, if no ip_rules and vnet_subnet_id arguments are supplied,
        the access to the key vault from any IP address or virtual network will be
        according to the default_action value. To allow access only
        from a specific virtual network or IP address, use the ip_rules or the  vnet_subnet_id
        arguments. This is only used after the bypass property has been evaluated.
        Network acl property.
      isArray: false
      name: default_action
      predefined:
      - Allow
      - Deny
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Specifies what traffic can bypass network rules. This can be 'AzureServices'
        or 'None'. For example, use 'AzureServices' to give Azure services
        access to the key vault, even though the default action is 'Deny' or the access for
        a specific IP address is defined. Network acl property. Default value is 'AzureServices'.
      isArray: false
      name: bypass
      predefined:
      - AzureServices
      - None
      required: false
      secret: false
    - default: false
      description: The specific virtual network that can access the key vault.
        This argument must be the full resource ID of a virtual network subnet. For
        example, for the subnet ID "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/subnet1",
        you allow access to the key vault from subnet1. Network acl property.
      isArray: false
      name: vnet_subnet_id
      required: false
      secret: false
    - default: false
      defaultValue: 'True'
      description: Specifies whether the Network Resource Provider should avoid validating that the parent 
        subnet has serviceEndpoints configured. This allows the configuration
        for the Key Vault to complete without error before the configuration to the
        virtual network's subnet is complete. Once the subnet configuration is complete,
        the Cosmos account will then be accessible through the configured subnet.
        Network Acl property.
      isArray: false
      name: ignore_missing_vnet_service_endpoint
      predefined:
      - ''
      required: false
      secret: false
    - default: false
      description: 'A comma-separated list of IP address rules. Each rule governs the accessibility
        of a vault from a specific IP address or IP range. It can be a simple IP address
        "124.56.78.91" or "124.56.78.0/24" (all addresses that start with 124.56.78).
        For example, for the IP addresses list: "124.56.78.91,124.56.78.92", you can
        access the key vault from "124.56.78.91" or "124.56.78.92" IP addresses. Network
        acl property.'
      isArray: true
      name: ip_rules
      required: false
      secret: false
    deprecated: false
    description: Create or update a key vault in the specified subscription. If the
      key vault exists, the updated properties will overwrite the existing ones.
      Use the azure-key-vault-access-policy-update command to update the access
      policy of an existing key vault.
    execution: false
    name: azure-key-vault-create-update
    outputs:
    - contextPath: AzureKeyVault.KeyVault.id
      description: Resource ID.
      type: String
    - contextPath: AzureKeyVault.KeyVault.name
      description: Key vault name.
      type: String
    - contextPath: AzureKeyVault.KeyVault.type
      description: Resource type in Azure.
      type: String
    - contextPath: AzureKeyVault.KeyVault.location
      description: Key vault location.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.sku.family
      description: SKU family name.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.sku.name
      description: SKU name to specify whether the key vault is a standard vault or
        a premium vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.tenantId
      description: The Azure Active Directory tenant ID that should be used for authenticating
        requests to the key vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.tenantId
      description: The Azure Active Directory tenant ID that should be used for authenticating
        requests to the key vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.objectId
      description: The object ID of a user, service principal, or security group in
        the Azure Active Directory tenant for the vault. The object ID must be unique
        for the list of access policies.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.keys
      description: Permissions to keys.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.secrets
      description: Permissions to secrets.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.certificates
      description: Permissions to certificates.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForDeployment
      description: Whether Azure Virtual Machines are permitted
        to retrieve certificates stored as secrets from the key vault.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForDiskEncryption
      description: Whether Azure Disk Encryption is permitted
        to retrieve secrets from the vault and unwrap keys.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForTemplateDeployment
      description: Whether the Azure Resource Manager is permitted
        to retrieve secrets from the key vault.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.vaultUri
      description: The URI of the vault for performing operations on keys and secrets.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.provisioningState
      description: The current provisioning state.
      type: String
  - arguments:
    - default: false
      description: Name fo the key vault to delete.
      isArray: false
      name: vault_name
      required: true
      secret: false
    deprecated: false
    description: Delete the specified key vault.
    execution: true
    name: azure-key-vault-delete
  - arguments:
    - default: false
      description: Name of the key vault to retrieve.
      isArray: false
      name: vault_name
      required: true
      secret: false
    deprecated: false
    description: Get the specified key vault.
    execution: false
    name: azure-key-vault-get
    outputs:
    - contextPath: AzureKeyVault.KeyVault.id
      description: Resource ID.
      type: String
    - contextPath: AzureKeyVault.KeyVault.name
      description: Key vault name.
      type: String
    - contextPath: AzureKeyVault.KeyVault.type
      description: Resource type in Azure.
      type: String
    - contextPath: AzureKeyVault.KeyVault.location
      description: Key vault location.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.sku.family
      description: SKU family name.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.sku.name
      description: SKU name to specify whether the key vault is a standard vault or
        a premium vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.tenantId
      description: The Azure Active Directory tenant ID that should be used for authenticating
        requests to the key vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.tenantId
      description: The Azure Active Directory tenant ID that should be used for authenticating
        requests to the key vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.objectId
      description: The object ID of a user, service principal, or security group in
        the Azure Active Directory tenant for the vault. The object ID must be unique
        for the list of access policies.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.keys
      description: Permissions to keys.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.secrets
      description: Permissions to secrets.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.certificates
      description: Permissions to certificates.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForDeployment
      description: Whether Azure Virtual Machines are permitted
        to retrieve certificates stored as secrets from the key vault.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForDiskEncryption
      description: Whether Azure Disk Encryption is permitted
        to retrieve secrets from the vault and unwrap keys.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForTemplateDeployment
      description: Whether the Azure Resource Manager is permitted
        to retrieve secrets from the key vault.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.enableSoftDelete
      description: Whether the 'soft delete' functionality is
        enabled for this key vault. If it's not set to any value (true or false) when
        creating a new key vault, it will be set to true by default. Once set to true,
        it cannot be changed to false.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.vaultUri
      description: The URI of the vault for performing operations on keys and secrets.
        This property is read only.
      type: String
  - arguments:
    - default: false
      description: Limit on the number of keys vaults to return. Default value is
        50.
      isArray: false
      name: limit
      required: false
      secret: false
    - default: false
      description: First index to retrieve from. Default value is 0.
      isArray: false
      name: offset
      required: false
      secret: false
    deprecated: false
    description: The List command gets information about the vaults associated with
      the subscription. For a limit greater than 25, more than one API call is
      required and the command might take a long time.
    execution: false
    name: azure-key-vault-list
    outputs:
    - contextPath: AzureKeyVault.KeyVault.id
      description: Resource ID.
      type: String
    - contextPath: AzureKeyVault.KeyVault.name
      description: Key vault name.
      type: String
    - contextPath: AzureKeyVault.KeyVault.type
      description: Resource type in Azure.
      type: String
    - contextPath: AzureKeyVault.KeyVault.location
      description: Key vault location.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.sku.family
      description: SKU family name.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.sku.name
      description: SKU name to specify whether the key vault is a standard vault or
        a premium vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.tenantId
      description: The Azure Active Directory tenant ID that should be used for authenticating
        requests to the key vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.tenantId
      description: The Azure Active Directory tenant ID that should be used for authenticating
        requests to the key vault.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.objectId
      description: The object ID of a user, service principal, or security group in
        the Azure Active Directory tenant for the vault. The object ID must be unique
        for the list of access policies.
      type: String
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.keys
      description: Permissions to keys.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.secrets
      description: Permissions to secrets.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.accessPolicies.permissions.certificates
      description: Permissions to certificates.
      type: Unknown
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForDeployment
      description: Whether Azure Virtual Machines are permitted
        to retrieve certificates stored as secrets from the key vault.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForDiskEncryption
      description: Whether Azure Disk Encryption is permitted
        to retrieve secrets from the vault and unwrap keys.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.enabledForTemplateDeployment
      description: Whether the Azure Resource Manager is permitted
        to retrieve secrets from the key vault.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.enableSoftDelete
      description: Whether the 'soft delete' functionality is
        enabled for this key vault. If it's not set to any value (true or false) when
        creating new key vault, it will be set to true by default. Once set to true,
        it cannot be reverted to false.
      type: Boolean
    - contextPath: AzureKeyVault.KeyVault.properties.vaultUri
      description: The URI of the vault for performing operations on keys and secrets.
      type: String
  - arguments:
    - default: false
      description: The name of the key vault whose access policy to update.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      description: 'The name of the operation to perform on the vault''s access policy.
        Supports three operations: add, remove, and replace. For example, to add get, list
        permissions to the current secret permissions, use operation_kind=add and
        secrets=get,list.'
      isArray: false
      name: operation_kind
      predefined:
      - add
      - remove
      - replace
      required: true
      secret: false
    - default: false
      description: The object ID of a user, service principal, or security group in
        the Azure Active Directory tenant for the vault. The update is only for the
        access policy for the specified object ID.
      isArray: false
      name: object_id
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      description: Permissions to keys.
      isArray: true
      name: keys
      predefined:
      - encrypt
      - decrypt
      - wrapKey
      - unwrapKey
      - sign
      - verify
      - get
      - list
      - create
      - update
      - import
      - delete
      - backup
      - restore
      - recover
      - purge
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Permissions to secrets.
      isArray: true
      name: secrets
      predefined:
      - get
      - list
      - set
      - delete
      - backup
      - restore
      - recover
      - purge
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Permissions to certificates.
      isArray: true
      name: certificates
      predefined:
      - get
      - list
      - delete
      - create
      - import
      - update
      - managecontacts
      - getissuers
      - listissuers
      - setissuers
      - deleteissuers
      - manageissuers
      - recover
      - purge
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Permissions to storage accounts.
      isArray: true
      name: storage
      predefined:
      - get
      - list
      - delete
      - set
      - update
      - regeneratekey
      - getsas
      - listsas
      - deletesas
      - setsas
      - recover
      - backup
      - restore
      - purge
      required: false
      secret: false
    deprecated: false
    description: Update access policies in a key vault in the specified subscription.
      The update is only for the access policy for the specified object ID.
    execution: true
    name: azure-key-vault-access-policy-update
    outputs:
    - contextPath: AzureKeyVault.VaultAccessPolicy.id
      description: Resource ID.
      type: String
    - contextPath: AzureKeyVault.VaultAccessPolicy.type
      description: Resource type in Azure.
      type: String
    - contextPath: AzureKeyVault.VaultAccessPolicy.properties.accessPolicies.tenantId
      description: The Azure Active Directory tenant ID that should be used for authenticating
        requests to the key vault.
      type: String
    - contextPath: AzureKeyVault.VaultAccessPolicy.properties.accessPolicies.objectId
      description: The object ID of a user, service principal, or security group in
        the Azure Active Directory tenant for the vault. The object ID must be unique
        for the list of access policies.
      type: String
    - contextPath: AzureKeyVault.VaultAccessPolicy.properties.accessPolicies.permissions.keys
      description: Permissions to keys.
      type: Unknown
    - contextPath: AzureKeyVault.VaultAccessPolicy.properties.accessPolicies.permissions.secrets
      description: Permissions to secrets.
      type: Unknown
    - contextPath: AzureKeyVault.VaultAccessPolicy.properties.accessPolicies.permissions.certificates
      description: Permissions to certificates.
      type: Unknown
  - arguments:
    - default: false
      description: The name of the key vault where the key resides.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      description: Key name.
      isArray: false
      name: key_name
      required: true
      secret: false
    - default: false
      description: The specific version of a key. If not specified, the latest version of
        the key is returned.
      isArray: false
      name: key_version
      required: false
      secret: false
    deprecated: false
    description: Get the public part of a stored key. This operation requires the
      keys/get permission.
    execution: false
    name: azure-key-vault-key-get
    outputs:
    - contextPath: AzureKeyVault.Key.key.kid
      description: Key identifier.
      type: String
    - contextPath: AzureKeyVault.Key.key.kty
      description: JsonWebKey key type.
      type: String
    - contextPath: AzureKeyVault.Key.key.key_ops
      description: Supported key operations.
      type: Unknown
    - contextPath: AzureKeyVault.Key.key.n
      description: RSA modulus.
      type: String
    - contextPath: AzureKeyVault.Key.key.e
      description: RSA public exponent.
      type: String
    - contextPath: AzureKeyVault.Key.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.Key.attributes.created
      description: Creation time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Key.attributes.updated
      description: Last updated time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Key.attributes.recoveryLevel
      description: Reflects the deletion recovery level currently in effect for keys
        in the current vault. If 'Purgeable', the key can be permanently
        deleted by a privileged user; otherwise, only the system can purge the key
        at the end of the retention interval.
      type: Unknown
  - arguments:
    - default: false
      description: The name of the key vault where the keys reside.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      defaultValue: '50'
      description: Limit on the number of keys to return. 
      isArray: false
      name: limit
      required: false
      secret: false
    - default: false
      defaultValue: '0'
      description: First index to retrieve from. 
      isArray: false
      name: offset
      required: false
      secret: false
    deprecated: false
    description: List keys in the specified vault. For a limit greater than 25, more
      than one API call will be required and the command might take a longer time. This
      operation requires the keys/list permission.
    execution: false
    name: azure-key-vault-key-list
    outputs:
    - contextPath: AzureKeyVault.Key.kid
      description: Key identifier.
      type: String
    - contextPath: AzureKeyVault.Key.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.Key.attributes.created
      description: Creation time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Key.attributes.updated
      description: Last updated time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Key.attributes.recoveryLevel
      description: Reflects the deletion recovery level currently in effect for keys
        in the current vault. If 'Purgeable', the key can be permanently
        deleted by a privileged user; otherwise, only the system can purge the key
        at the end of the retention interval.
      type: String
    - contextPath: AzureKeyVault.Key.attributes.recoverableDays
      description: Soft delete data retention days. Value should be >=7 and <=90 when
        softDelete is enabled, otherwise 0.
      type: Number
  - arguments:
    - default: false
      description: The name of the key vault where the key resides.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      description: Key name to delete.
      isArray: false
      name: key_name
      required: true
      secret: false
    deprecated: false
    description: Delete a key of any type from storage in Azure Key vault. This operation
      requires the keys/delete permission.
    execution: true
    name: azure-key-vault-key-delete
    outputs:
    - contextPath: AzureKeyVault.Key.recoveryId
      description: The URL of the recovery object, used to identify and recover the
        deleted key.
      type: String
    - contextPath: AzureKeyVault.Key.deletedDate
      description: The time when the key was deleted, in UTC.
      type: Date
    - contextPath: AzureKeyVault.Key.key.kid
      description: Key identifier.
      type: String
    - contextPath: AzureKeyVault.Key.key.kty
      description: JsonWebKey key type.
      type: String
    - contextPath: AzureKeyVault.Key.key.key_ops
      description: Supported key operations.
      type: Unknown
    - contextPath: AzureKeyVault.Key.key.n
      description: RSA modulus.
      type: String
    - contextPath: AzureKeyVault.Key.key.e
      description: RSA public exponent.
      type: String
    - contextPath: AzureKeyVault.Key.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.Key.attributes.created
      description: Creation time in UTC.
      type: Number
    - contextPath: AzureKeyVault.Key.attributes.updated
      description: Last updated time in UTC.
      type: Number
    - contextPath: AzureKeyVault.Key.attributes.recoveryLevel
      description: Reflects the deletion recovery level currently in effect for keys
        in the current vault. If 'Purgeable', the key can be permanently
        deleted by a privileged user; otherwise, only the system can purge the key
        at the end of the retention interval.
      type: String
  - arguments:
    - default: false
      description: The name of the key vault where the secret resides.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      description: Secret name.
      isArray: false
      name: secret_name
      required: true
      secret: false
    - default: false
      description: Secret version. If not specified, the latest version of the secret
        is returned.
      isArray: false
      name: secret_version
      required: false
      secret: false
    deprecated: false
    description: Get a specified secret from a given key vault. The GET operation
      is applicable to any secret stored in the Azure Key Vault. This operation requires
      the secrets/get permission.
    execution: false
    name: azure-key-vault-secret-get
    outputs:
    - contextPath: AzureKeyVault.Secret.value
      description: Secret value.
      type: String
    - contextPath: AzureKeyVault.Secret.id
      description: Secret ID.
      type: String
    - contextPath: AzureKeyVault.Secret.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.Secret.attributes.created
      description: Creation time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.attributes.updated
      description: Last updated time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.attributes.recoveryLevel
      description: Reflects the deletion recovery level currently in effect for secrets
        in the current vault. If 'Purgeable', the secret can be permanently
        deleted by a privileged user; otherwise, only the system can purge the secret
        at the end of the retention interval.
      type: String
  - arguments:
    - default: false
      description: The name of the key vault where the secrets reside.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      description: Limit on the number of secrets to return. Default value is 50.
      isArray: false
      name: limit
      required: false
      secret: false
    - default: false
      description: First index to retrieve from. Default value is 0.
      isArray: false
      name: offset
      required: false
      secret: false
    deprecated: false
    description: List the secrets in a specified key vault. For a limit greater than 25,
      more than one API call will be required and the command might take a longer time.
      This operation requires the secrets/list permission.
    execution: false
    name: azure-key-vault-secret-list
    outputs:
    - contextPath: AzureKeyVault.Secret.id
      description: Secret ID.
      type: String
    - contextPath: AzureKeyVault.Secret.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.Secret.attributes.nbf
      description: Not before date in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.attributes.exp
      description: Expiry date in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.attributes.created
      description: Creation time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.attributes.updated
      description: Last updated time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.attributes.recoveryLevel
      description: Reflects the deletion recovery level currently in effect for secrets
        in the current vault. If 'Purgeable', the secret can be permanently
        deleted by a privileged user; otherwise, only the system can purge the secret
        at the end of the retention interval.
      type: String
    - contextPath: AzureKeyVault.Secret.attributes.recoverableDays
      description: Soft delete data retention days. Value should be >=7 and <=90 when
        softDelete is enabled, otherwise 0.
      type: Number
  - arguments:
    - default: false
      description: The name of the key vault where the secret resides.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      description: Name of the secret to delete.
      isArray: false
      name: secret_name
      required: true
      secret: false
    deprecated: false
    description: Delete a secret from a specified key vault. This operation requires
      the secrets/delete permission.
    execution: true
    name: azure-key-vault-secret-delete
    outputs:
    - contextPath: AzureKeyVault.Secret.recoveryId
      description: The URL of the recovery object, used to identify and recover the
        deleted secret.
      type: String
    - contextPath: AzureKeyVault.Secret.deletedDate
      description: The time when the secret was deleted, in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.scheduledPurgeDate
      description: The time when the secret is scheduled to be purged, in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.id
      description: Deleted secret ID.
      type: String
    - contextPath: AzureKeyVault.Secret.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.Secret.attributes.created
      description: Creation time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.attributes.updated
      description: Last updated time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Secret.attributes.recoveryLevel
      description: Reflects the deletion recovery level currently in effect for secrets
        in the current vault.
      type: String
  - arguments:
    - default: false
      description: The name of the key vault where the certificate resides.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      description: Certificate name.
      isArray: false
      name: certificate_name
      required: true
      secret: false
    - default: false
      description: The version of the certificate. If not specified, the latest version
        of the certificate is returned.
      isArray: false
      name: certificate_version
      required: false
      secret: false
    deprecated: false
    description: Gets information about a specific certificate. This operation requires
      the certificates/get permission.
    execution: false
    name: azure-key-vault-certificate-get
    outputs:
    - contextPath: AzureKeyVault.Certificate.id
      description: Certificate ID.
      type: String
    - contextPath: AzureKeyVault.Certificate.kid
      description: Key ID.
      type: String
    - contextPath: AzureKeyVault.Certificate.sid
      description: Secret ID.
      type: String
    - contextPath: AzureKeyVault.Certificate.x5t
      description: Thumbprint of the certificate.
      type: String
    - contextPath: AzureKeyVault.Certificate.cer
      description: CER contents of x509 certificate.
      type: String
    - contextPath: AzureKeyVault.Certificate.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.Certificate.attributes.exp
      description: Expiry date in UTC.
      type: Date
    - contextPath: AzureKeyVault.Certificate.attributes.created
      description: Creation time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Certificate.attributes.updated
      description: Last updated time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Certificate.attributes.recoveryLevel
      description: Reflects the deletion recovery level currently in effect for certificates
        in the current vault. If 'Purgeable', the certificate can be permanently
        deleted by a privileged user; otherwise, only the system can purge the certificate
        at the end of the retention interval.
      type: String
    - contextPath: AzureKeyVault.Certificate.policy
      description: The management policy.
      type: Unknown
  - arguments:
    - default: false
      description: The name of the key vault where the certificate resides.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      description: Limit on the number of certificates to return. Default value is
        50.
      isArray: false
      name: limit
      required: false
      secret: false
    - default: false
      description: First index to retrieve from. Default value is 0.
      isArray: false
      name: offset
      required: false
      secret: false
    deprecated: false
    description: List certificates in a specified key vault. For a limit greater than
      25, more than one API call will be required and the command might take a long
      time. This operation requires the certificates/list permission.
    execution: false
    name: azure-key-vault-certificate-list
    outputs:
    - contextPath: AzureKeyVault.Certificate.id
      description: Certificate ID.
      type: String
    - contextPath: AzureKeyVault.Certificate.x5t
      description: Thumbprint of the certificate.
      type: String
    - contextPath: AzureKeyVault.Certificate.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.Certificate.attributes.created
      description: Creation time in UTC.
      type: Date
    - contextPath: AzureKeyVault.Certificate.attributes.updated
      description: Last updated time in UTC.
      type: Date
  - arguments:
    - default: false
      description: The name of the key vault where the secret resides.
      isArray: false
      name: vault_name
      required: true
      secret: false
    - default: false
      description: The name of the certificate to retrieve the policy from.
      isArray: false
      name: certificate_name
      required: true
      secret: false
    deprecated: false
    description: Get the policy of the specified certificate.This operation requires
      the certificates/get permission.
    execution: false
    name: azure-key-vault-certificate-policy-get
    outputs:
    - contextPath: AzureKeyVault.CertificatePolicy.id
      description: Policy ID.
      type: String
    - contextPath: AzureKeyVault.CertificatePolicy.key_props
      description: Properties of the key backing a certificate.
      type: Unknown
    - contextPath: AzureKeyVault.CertificatePolicy.x509_props
      description: Properties of the X509 component of a certificate.
      type: Unknown
    - contextPath: AzureKeyVault.CertificatePolicy.lifetime_actions
      description: Actions that will be performed by the key vault over the lifetime of
        a certificate.
      type: Unknown
    - contextPath: AzureKeyVault.CertificatePolicy.issuer
      description: Parameters for the issuer of the X509 component of a certificate.
      type: Unknown
    - contextPath: AzureKeyVault.CertificatePolicy.attributes.enabled
      description: Whether the object is enabled.
      type: Boolean
    - contextPath: AzureKeyVault.CertificatePolicy.attributes.created
      description: Creation time in UTC.
      type: Date
    - contextPath: AzureKeyVault.CertificatePolicy.attributes.updated
      description: Last updated time in UTC.
      type: Date
  dockerimage: demisto/crypto:1.0.0.24037
  feed: false
  isfetch: false
  longRunning: false
  longRunningPort: false
  runonce: false
  script: '-'
  subtype: python3
  type: python
tests:
- No tests (auto formatted)
fromversion: 5.5.0
